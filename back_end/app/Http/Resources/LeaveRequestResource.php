<?php
 namespace App\Http\Resources; use Illuminate\Http\Request; use Illuminate\Http\Resources\Json\JsonResource; class LeaveRequestResource extends JsonResource { public function toArray(Request $request): array { return [ 'id' => $this->id, 'status' => $this->status, 'start_time' => $this->start_time, 'end_time' => $this->end_time, 'duration_for_humans' => $this->whenNotNull($this->duration_for_humans), 'reason' => $this->reason, 'rejection_reason' => $this->rejection_reason, 'processed_at' => $this->processed_at?->toDateTimeString(), 'employee' => new EmployeeResource($this->whenLoaded('employee')), 'leave_type' => new LeaveTypeResource($this->whenLoaded('leaveType')), 'processor' => new UserResource($this->whenLoaded('processor')), 'created_at' => $this->created_at->toDateTimeString(), 'updated_at' => $this->updated_at->toDateTimeString(), ]; } } 