<?php
 namespace App\Notifications; use Illuminate\Bus\Queueable; use Illuminate\Notifications\Messages\BroadcastMessage; use Illuminate\Notifications\Notification; class ImageUploadPending extends Notification { use Queueable; public function __construct(public int $count = 1) { } public function via(object $notifiable): array { return ['database', 'broadcast']; } public function toArray(object $notifiable): array { return [ 'title' => 'تصویر پروفایل در انتظار تایید', 'message' => $this->count > 1 ? "تعداد {$this->count} تصویر جدید با موفقیت آپلود شد و پس از تایید مدیریت نمایش داده می‌شود." : "تصویر جدید شما با موفقیت آپلود شد و پس از تایید مدیریت نمایش داده می‌شود.", 'status' => 'pending', 'type' => 'info', ]; } public function toBroadcast(object $notifiable): BroadcastMessage { return new BroadcastMessage([ 'title' => 'وضعیت آپلود تصویر', 'message' => 'تصاویر شما جهت بررسی برای مدیریت ارسال شد.', 'type' => 'info', 'count' => $this->count, ]); } public function receivesBroadcastNotificationsOn(): string { return 'App.User.' . $this->id; } }