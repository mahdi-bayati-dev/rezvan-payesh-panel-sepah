<?php
 namespace App\Notifications; use Illuminate\Bus\Queueable; use Illuminate\Notifications\Messages\BroadcastMessage; use Illuminate\Notifications\Notification; class ImageUploadRejected extends Notification { use Queueable; public string $reason; public function __construct(string $reason) { $this->reason = $reason; } public function via(object $notifiable): array { return ['database', 'broadcast']; } public function toArray(object $notifiable): array { return [ 'title' => 'تصویر پروفایل رد شد', 'message' => "تصویر ارسالی شما تایید نشد. دلیل: {$this->reason}", 'reason' => $this->reason, 'status' => 'rejected', 'type' => 'error', ]; } public function toBroadcast(object $notifiable): BroadcastMessage { return new BroadcastMessage([ 'title' => 'عدم تایید تصویر', 'message' => " تصویر شما به دلیل « {$this->reason} » رد شد.", 'type' => 'error', 'status' => 'rejected' ]); } public function receivesBroadcastNotificationsOn(): string { return 'App.User.' . $this->id; } }