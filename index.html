<!DOCTYPE html>
<html lang="fa" dir="rtl">
  <head>
    <meta charset="UTF-8" />

    <!-- ✅ کانفیگ را اینجا لود می‌کنیم تا قبل از اجرای برنامه در دسترس باشد -->
    <script src="/config.js"></script>

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>رضوان پایش</title>
    <meta
      name="description"
      content="پنل مدیریتی سازمان رضوان پایش برای مدیریت حضور و غیاب، درخواست‌ها و گزارشات کارکنان."
    />

    <meta name="theme-color" content="#ffffff" />

    <!-- ✅ اسکریپت تم را در هد قرار می‌دهیم تا قبل از رندر شدن بادی اجرا شود و از پرش رنگ جلوگیری کند -->
    <script>
      (function () {
        function getInitialTheme() {
          const storedTheme = window.localStorage.getItem("theme");
          if (storedTheme === "dark" || storedTheme === "light") {
            return storedTheme;
          }
          if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
            return "dark";
          }
          return "light";
        }
        const theme = getInitialTheme();
        if (theme === "dark") {
          document.documentElement.classList.add("dark");
        } else {
          document.documentElement.classList.remove("dark");
        }
      })();
    </script>

    <link
      rel="preload"
      href="/src/assets/fonts/Vazirmatn-Variable-font-face.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />
    <link rel="manifest" href="/site.webmanifest" />

    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />

    <link rel="icon" href="/favicon.ico" sizes="any" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>

    <noscript
      >برای استفاده از این برنامه، لازم است جاوااسکریپت را در مرورگر خود فعال
      کنید.</noscript
    >
  </body>
</html>
